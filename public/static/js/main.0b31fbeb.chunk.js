(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(26)},17:function(e,t,a){},18:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},19:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),l=a.n(s),c=(a(17),a(18),a(19),a(2)),i=a(3),o=a(6),u=a(4),d=a(7),m=a(10),h=a.n(m),p=a(1),v=a.n(p),E=a(5),b=(a(24),{apiUrl:""}),f={genericCr:function(e){return k.apply(this,arguments)}};function k(){return(k=Object(E.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b.apiUrl+"/crmRegister/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){a.selectedCheckboxes=new Set},a.selectOption=function(e){a.selectedCheckboxes.has(e.currentTarget.value)?a.selectedCheckboxes.delete(e.currentTarget.value):a.selectedCheckboxes.add(e.currentTarget.value),a.setState({size:a.selectedCheckboxes.size})},a.state={fields:[{checked:!1,value:"Nombres"},{checked:!1,value:"Apellidos"},{checked:!1,value:"Tel\xe9fonos"},{checked:!1,value:"Direcciones"}],check:[],size:0,error:!1,textButton:"Enviar"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"parse",value:function(){this.setState({textButton:"Enviando...."});var e=this.props.data[0],t=[];this.selectedCheckboxes.forEach(function(a){-1!==e.indexOf(a)&&t.push(e.indexOf(a))});var a=[],n=0;for(n in this.props.data)a.push({nombre:this.props.data[n][t[0]],apellidos:this.props.data[n][t[1]],telefonos:this.props.data[n][t[2]],direcciones:this.props.data[n][t[3]]});this.sendApi(a)}},{key:"sendApi",value:function(){var e=Object(E.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.genericCr(t,"POST");case 3:a=e.sent,alert(JSON.stringify(a)),a&&!1===a.success?this.setState({error:!0}):this.setState({error:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("error al enviar");case 11:this.setState({textButton:"Enviar"});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"show",value:function(e){var t=Array.from(this.selectedCheckboxes).indexOf(e);return[this.selectedCheckboxes.has(e),t]}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.data[0]&&this.props.data[0].length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Paso 3: seleccione los campos a subir "),r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"las Columnas deben ser ",this.state.fields.map(function(e,t){return r.a.createElement("span",{key:t},e.value,",")})," "),r.a.createElement("div",null,this.props.data[0].map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("input",{type:"checkbox",name:"fields",value:t,onChange:e.selectOption}),t,r.a.createElement("br",null))}))),r.a.createElement("br",null),this.props.data[0].length<3||4!==this.selectedCheckboxes.size&&r.a.createElement("div",{className:"alert alert-warning"},r.a.createElement("strong",null,"Advertencia!")," para completar el cargue de la informacion el archivo que suba debe contener los parametros de Nombres , Apellidos , Tel\xe9fonos , Direcciones."),this.state.error&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("strong",null,"Error!")," Error al cargar su informaci\xf3n"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary"+(this.props.data[0].length>3&&4===this.selectedCheckboxes.size?"":" disabled hide"),onClick:this.parse.bind(this)},this.state.textButton)),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleForce=function(e){a.setState({data:e})},a.delimiterFunction=function(e){a.setState({options:{delimiter:e.currentTarget.value}})},a.state={data:[[]],options:{delimiter:";"},delimiters:[";",",",".","%"]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h3",null,"Paso 1: ingrese el delimitador"),r.a.createElement("p",null,"El delimitador puede ser ; , . % o una palabra clave"),r.a.createElement("div",null,"Delimitador:",r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"delimiter",value:this.state.options.delimiter,onChange:this.delimiterFunction}),r.a.createElement("br",null))),r.a.createElement("hr",null),r.a.createElement("h3",null,"Paso 2: Seleccione el arciho csv"),r.a.createElement("div",{className:"container"},r.a.createElement(h.a,{cssClass:"react-csv-input",label:"Select CSV with secret Death Star statistics",onFileLoaded:this.handleForce,parserOptions:this.state.options})),r.a.createElement("hr",null),r.a.createElement(g,{data:this.state.data}))}}]),t}(r.a.Component);var C=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:" shadow"},r.a.createElement("div",{className:" text-center"},r.a.createElement("div",{className:"title"},"Cargue masivo"),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"A continuaci\xf3n encontrar\xe1 un modulo para proceso de cargue de datos a su CRM para empezar a gestionar campa\xf1as de clientes. ",r.a.createElement("br",null)," Seleccione un archivo csv y seleccione el delimitador que aplique a su caso"),r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.0b31fbeb.chunk.js.map